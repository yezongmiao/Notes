
# H265说明
- [H265说明](#h265说明)
  - [1.1 YUV格式情况](#11-yuv格式情况)
    - [1.1.1 YUV整体理解](#111-yuv整体理解)
    - [1.1.2 YUV采样格式](#112-yuv采样格式)
    - [1.1.3 YUV存储格式](#113-yuv存储格式)

## 1.1 YUV格式情况
### 1.1.1 YUV整体理解
[YUV_简书](https://www.jianshu.com/p/6a361e86ccd5)

yuv种类分为很多，可以理解是一个**二维的**，即空间间，和空间内，这样的表述，借鉴了h264中的帧间和帧内的思想。

**空间-内**：不同空间，即描述一个像素的bit数不同，比如yuv444，yuv422，yuv411，yuv420

**空间-间**：相同空间，即描述一个像素的bit数相同，但是存储方式不同，比如对于yuv420而言，又可细分为yuv420p，yuv420sp，nv21，nv12，yv12，yu12，I420

### 1.1.2 YUV采样格式

从空间的角度考虑YUV格式：

YUV 444  最完整的最理想的状态

      [ y u v ] [ y u v ] [ y u v ] [ y u v ]
      [ y u v ] [ y u v ] [ y u v ] [ y u v ]
      [ y u v ] [ y u v ] [ y u v ] [ y u v ]
      [ y u v ] [ y u v ] [ y u v ] [ y u v ]

YUV 422格式，在原来满的情况下，每行需要去掉两个u和两个v

      [ y u ] [ y v ] [ y u ] [ y v ]
      [ y v ] [ y u ] [ y v ] [ y u ]
      [ y u ] [ y v ] [ y u ] [ y v ]
      [ y v ] [ y u ] [ y v ] [ y u ]


YUV 411格式，原来yuv422的基础上，每行再去掉一个u和一个v

      [ y u ] [ y ] [ y v ] [ y ]
      [ y u ] [ y ] [ y v ] [ y ]
      [ y u ] [ y ] [ y v ] [ y ]
      [ y u ] [ y ] [ y v ] [ y ]

4. YUV 420格式，原来yuv422的基础上，拿掉两个v或者U，其实yuv420的取名方式不是很高明，**更确切的命名为yuv420yuv402**也就是第一行只有两个u，而第二行只有两个v

      [ y u ] [ y ] [ y u ] [ y ]
      [ y v ] [ y ] [ y v ] [ y ]
      [ y u ] [ y ] [ y u ] [ y ]

### 1.1.3 YUV存储格式

三种格式packet，planar，semi-plane

**packet**: 是打包格式，即存储yuv，然后再存储下一个yuv ..
**planar**是平面格式，即先存储y平面，再存储u平面，最后存储v平面(好像都是这种的)
**semi-planar**是两个平面，正常的planar是三个平面，即y平面，u平面，v平面，现在的semi-planar是两个平面，也就是说uv为同一个平面，即一个y平面，一个uv平面

探讨一下相同bit数的不同存储格式，主要讨论yuv422和yuv420：

1.  YUV422

yuyv（yuy2）

        [ y u ] [ y v ] [ y u ] [ y v ]
        [ y u ] [ y v ] [ y u ] [ y v ]
        [ y u ] [ y v ] [ y u ] [ y v ]
        [ y u ] [ y v ] [ y u ] [ y v ]

uyvy

        [ u y ] [ v y ] [ u y ] [ v y ]
        [ u y ] [ v y ] [ u y ] [ v y ]
        [ u y ] [ v y ] [ u y ] [ v y ]
        [ u y ] [ v y ] [ u y ] [ v y ]

yuv422p（yu16）

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ u u u u ]
        [ u u u u ]
        [ v v v v ]
        [ v v v v ]

（yv16）

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ v v v v ]
        [ v v v v ]
        [ u u u u ]
        [ u u u u ]

yuv422sp（nv16）

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ u v u v ]
        [ u v u v ]
        [ u v u v ]
        [ u v u v ]

2. yuv420

yuv420p（yu12 / I420）  **这个好像是最常用的格式，从YUV转RGB都是按照这个格式读取文件的流**

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ u u ]
        [ u u ]
        [ v v ]
        [ v v ]

或（yv12）

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ v v ]
        [ v v ]
        [ u u ]
        [ u u ]

yuv420sp（nv12）

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ u v u v ]
        [ u v u v ]

或（nv21）

        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ y y y y ]
        [ v u v u ]
        [ v u v u ]

## 












